using Microsoft.Xna.Framework;
using System;
using System.Collections.Generic;
using System.Text;

//----------------------------------------------------------------------------------
//----------------------------------------------------------------------------------
namespace GameEngine
{
	//----------------------------------------------------------------------------------
	//----------------------------------------------------------------------------------
	public class Engine
	{
		private static Engine m_Instance = null;

		private Game m_Game = null;
		private AssetManager m_AssetManager = null;
		private RenderManager m_RenderManager = null;
		private Input m_Input = null;

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		private Engine(Game game)
		{
			m_Game = game;
			m_AssetManager = new AssetManager(game.Content);
			m_RenderManager = new RenderManager(game);
			m_Input = new Input();
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public static Engine Create(Game game)
		{
			m_Instance = new Engine(game);
			return m_Instance;
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public static void Destroy()
		{
			m_Instance = null;
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public void EarlyUpdate()
		{
			m_Input.EarlyUpdate();
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public void LateUpdate()
		{
			m_Input.LateUpdate();
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public static Engine GetInstance()
		{
			return m_Instance;
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public Game GetGame()
		{
			return m_Game;
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public AssetManager GetAssetManager()
		{
			return m_AssetManager;
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public RenderManager GetRenderManager()
		{
			return m_RenderManager;
		}

		//----------------------------------------------------------------------------------
		//----------------------------------------------------------------------------------
		public Input GetInput()
		{
			return m_Input;
		}
	}
}
